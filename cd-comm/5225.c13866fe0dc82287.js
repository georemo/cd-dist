(self.webpackChunkcd_comm=self.webpackChunkcd_comm||[]).push([[5225],{25225:(p,v,m)=>{m.r(v),m.d(v,{MetisMenu:()=>c,default:()=>c});const E={parentTrigger:"li",subMenu:"ul",toggle:!0,triggerElement:"a"},g={ACTIVE:"mm-active",COLLAPSE:"mm-collapse",COLLAPSED:"mm-collapsed",COLLAPSING:"mm-collapsing",METIS:"metismenu",SHOW:"mm-show"};class c{constructor(t,s){this.element=c.isElement(t)?t:document.querySelector(t),this.config=Object.assign(Object.assign({},E),s),this.disposed=!1,this.triggerArr=[],this.boundEventHandler=this.clickEvent.bind(this),this.init()}static attach(t,s){return new c(t,s)}init(){const{METIS:t,ACTIVE:s,COLLAPSE:i}=g;this.element.classList.add(t);const l=[...this.element.querySelectorAll(this.config.subMenu)];0!==l.length&&l.forEach(r=>{r.classList.add(i);const o=r.closest(this.config.parentTrigger);o?.classList.contains(s)?this.show(r):this.hide(r);const e=o?.querySelector(this.config.triggerElement);"true"!==e?.getAttribute("aria-disabled")&&(e?.setAttribute("aria-expanded","false"),e?.addEventListener("click",this.boundEventHandler),this.triggerArr.push(e))})}clickEvent(t){if(!this.disposed){const s=t?.currentTarget;s&&"A"===s.tagName&&t.preventDefault();const l=s.closest(this.config.parentTrigger)?.querySelector(this.config.subMenu);this.toggle(l)}}update(){this.disposed=!1,this.init()}dispose(){this.triggerArr.forEach(t=>{t.removeEventListener("click",this.boundEventHandler)}),this.disposed=!0}on(t,s,i){return this.element.addEventListener(t,s,i),this}off(t,s,i){return this.element.removeEventListener(t,s,i),this}emit(t,s,i=!1){const l=new CustomEvent(t,{bubbles:i,detail:s});this.element.dispatchEvent(l)}toggle(t){t.closest(this.config.parentTrigger)?.classList.contains(g.ACTIVE)?this.hide(t):this.show(t)}show(t){var s;const i=t,{ACTIVE:l,COLLAPSE:r,COLLAPSED:o,COLLAPSING:e,SHOW:a}=g;if(this.isTransitioning||i.classList.contains(e))return;const h=()=>{i.classList.remove(e),i.style.height="",i.removeEventListener("transitionend",h),this.setTransitioning(!1),this.emit("shown.metisMenu",{shownElement:i})},n=i.closest(this.config.parentTrigger);n?.classList.add(l);const d=n?.querySelector(this.config.triggerElement);d?.setAttribute("aria-expanded","true"),d?.classList.remove(o),i.style.height="0px",i.classList.remove(r),i.classList.remove(a),i.classList.add(e);const L=[].slice.call(null===(s=n?.parentNode)||void 0===s?void 0:s.children).filter(u=>u!==n);this.config.toggle&&L.length>0&&L.forEach(u=>{const f=u.querySelector(this.config.subMenu);f&&this.hide(f)}),this.setTransitioning(!0),i.classList.add(r),i.classList.add(a),i.style.height=`${i.scrollHeight}px`,this.emit("show.metisMenu",{showElement:i}),i.addEventListener("transitionend",h)}hide(t){const{ACTIVE:s,COLLAPSE:i,COLLAPSED:l,COLLAPSING:r,SHOW:o}=g,e=t;if(this.isTransitioning||!e.classList.contains(o))return;this.emit("hide.metisMenu",{hideElement:e});const a=e.closest(this.config.parentTrigger);a?.classList.remove(s);const h=()=>{e.classList.remove(r),e.classList.add(i),e.style.height="",e.removeEventListener("transitionend",h),this.setTransitioning(!1),this.emit("hidden.metisMenu",{hiddenElement:e})};e.style.height=`${e.getBoundingClientRect().height}px`,e.style.height=`${e.offsetHeight}px`,e.classList.add(r),e.classList.remove(i),e.classList.remove(o),this.setTransitioning(!0),e.addEventListener("transitionend",h),e.style.height="0px";const n=a?.querySelector(this.config.triggerElement);n?.setAttribute("aria-expanded","false"),n?.classList.add(l)}setTransitioning(t){this.isTransitioning=t}static isElement(t){return Boolean(t.classList)}}}}]);